#include <primitives/analyzetx.h>
#include <json_spirit/json_spirit.h>
#include <json_spirit/json_spirit_writer_template.h>

using namespace std;
using namespace json_spirit;

void testAnalyzeTx()
{
    //analyzeTx("0100000001485aa6d56c250978b29ccf1fad8a203b8ba6d90b57d6183f476fc7d4bdaa200a000000006a47304402200f54a5679cad6c3754efb4df84a365b87040706d4e984fcb00f97bbbce666f7a02203b81d99fd128a41a57198918bfe34227c1358378c1bd57b9db9c6f80bbdf3e46012103b8ad94954ca336de4a03e7b02e1b72a1a6ec2828702cbec10bbe053557690b80ffffffff020000000000000000331473706b65171b77de7a2e473893d27ad021102430750b73706b6b746573744b6579756a0e7465737420666f722064656d6f2e00000000000000001976a914e828514d314a5e8080f4e95e411d9eb95d922e3488ac00000000");
    Object parsed = analyzeTx("0100000001485aa6d56c250978b29ccf1fad8a203b8ba6d90b57d6183f476fc7d4bdaa200a000000006a47304402200f54a5679cad6c3754efb4df84a365b87040706d4e984fcb00f97bbbce666f7a02203b81d99fd128a41a57198918bfe34227c1358378c1bd57b9db9c6f80bbdf3e46012103b8ad94954ca336de4a03e7b02e1b72a1a6ec2828702cbec10bbe053557690b80ffffffff020000000000000000331473706b65171b77de7a2e473893d27ad021102430750b73706b6b746573744b6579756a0e7465737420666f722064656d6f2e00000000000000001976a914e828514d314a5e8080f4e95e411d9eb95d922e3488ac00000000");
    string strParsed = write_string(Value(parsed), true);
    cout << strParsed << endl;
    //cout << "test" << endl;
}

int main()
{
    testAnalyzeTx();

    return 0;
}
