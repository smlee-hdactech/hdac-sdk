<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>hdac SDK: utils/include/utils/tinyformat.h 소스 파일</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hdac SDK
   </div>
   <div id="projectbrief">SDK for hdac blockchain development</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'검색');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>메인&#160;페이지</span></a></li>
      <li><a href="pages.html"><span>관련된&#160;페이지</span></a></li>
      <li><a href="namespaces.html"><span>네임스페이스</span></a></li>
      <li><a href="annotated.html"><span>클래스</span></a></li>
      <li class="current"><a href="files.html"><span>파일들</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="검색" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>파일&#160;목록</span></a></li>
      <li><a href="globals.html"><span>파일&#160;멤버</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li><li class="navelem"><a class="el" href="dir_b4cad7074c2c537630e3aa48c3ef8dec.html">include</a></li><li class="navelem"><a class="el" href="dir_66dd9db28804934c989a12dd275ef9b6.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">tinyformat.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// tinyformat.h</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright (C) 2011, Chris Foster [chris42f (at) gmail (d0t) com]</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Boost Software License - Version 1.0</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// Permission is hereby granted, free of charge, to any person or organization</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// obtaining a copy of the software and accompanying documentation covered by</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// this license (the &quot;Software&quot;) to use, reproduce, display, distribute,</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// execute, and transmit the Software, and to prepare derivative works of the</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// Software, and to permit third-parties to whom the Software is furnished to</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// do so, all subject to the following:</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// The copyright notices in the Software and this entire statement, including</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// the above license grant, this restriction and the following disclaimer,</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// must be included in all copies of the Software, in whole or in part, and</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// all derivative works of the Software, unless such copies or derivative</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// works are solely in the form of machine-executable object code generated by</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// a source language processor.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// DEALINGS IN THE SOFTWARE.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// Tinyformat: A minimal type safe printf replacement</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// tinyformat.h is a type safe printf replacement library in a single C++</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// header file.  Design goals include:</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// * Type safety and extensibility for user defined types.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// * C99 printf() compatibility, to the extent possible using std::ostream</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// * Simplicity and minimalism.  A single header file to include and distribute</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//   with your projects.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// * Augment rather than replace the standard stream formatting mechanism</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// * C++98 support, with optional C++11 niceties</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// Main interface example usage</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// ----------------------------</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// To print a date to std::cout:</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//   std::string weekday = &quot;Wednesday&quot;;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//   const char* month = &quot;July&quot;;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//   size_t day = 27;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//   long hour = 14;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//   int min = 44;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//   tfm::printf(&quot;%s, %s %d, %.2d:%.2d\n&quot;, weekday, month, day, hour, min);</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// The strange types here emphasize the type safety of the interface; it is</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// possible to print a std::string using the &quot;%s&quot; conversion, and a</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// size_t using the &quot;%d&quot; conversion.  A similar result could be achieved</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">// using either of the tfm::format() functions.  One prints on a user provided</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// stream:</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//   tfm::format(std::cerr, &quot;%s, %s %d, %.2d:%.2d\n&quot;,</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">//               weekday, month, day, hour, min);</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// The other returns a std::string:</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">//   std::string date = tfm::format(&quot;%s, %s %d, %.2d:%.2d\n&quot;,</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">//                                  weekday, month, day, hour, min);</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">//   std::cout &lt;&lt; date;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// These are the three primary interface functions.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// User defined format functions</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// -----------------------------</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">// Simulating variadic templates in C++98 is pretty painful since it requires</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// writing out the same function for each desired number of arguments.  To make</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// this bearable tinyformat comes with a set of macros which are used</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">// internally to generate the API, but which may also be used in user code.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">// The three macros TINYFORMAT_ARGTYPES(n), TINYFORMAT_VARARGS(n) and</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// TINYFORMAT_PASSARGS(n) will generate a list of n argument types,</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// type/name pairs and argument names respectively when called with an integer</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// n between 1 and 16.  We can use these to define a macro which generates the</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// desired user defined function with n arguments.  To generate all 16 user</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">// defined function bodies, use the macro TINYFORMAT_FOREACH_ARGNUM.  For an</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// example, see the implementation of printf() at the end of the source file.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">// Additional API information</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// --------------------------</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">// Error handling: Define TINYFORMAT_ERROR to customize the error handling for</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">// format strings which are unsupported or have the wrong number of format</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// specifiers (calls assert() by default).</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">// User defined types: Uses operator&lt;&lt; for user defined types by default.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">// Overload formatValue() for more control.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#ifndef TINYFORMAT_H_INCLUDED</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#define TINYFORMAT_H_INCLUDED</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetinyformat.html">tinyformat</a> {}</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">// Config section.  Customize to your liking!</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">// Namespace alias to encourage brevity</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetinyformat.html">tfm</a> = <a class="code" href="namespacetinyformat.html">tinyformat</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">// Error handling; calls assert() by default.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#define TINYFORMAT_ERROR(reasonString) throw std::runtime_error(reasonString)</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">// Define for C++11 variadic templates which make the code shorter &amp; more</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">// general.  If you don&#39;t define this, C++11 support is autodetected below.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">// #define TINYFORMAT_USE_VARIADIC_TEMPLATES</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">// Implementation details.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#ifndef TINYFORMAT_ERROR</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#   define TINYFORMAT_ERROR(reason) assert(0 &amp;&amp; reason)</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#if !defined(TINYFORMAT_USE_VARIADIC_TEMPLATES) &amp;&amp; !defined(TINYFORMAT_NO_VARIADIC_TEMPLATES)</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#   ifdef __GXX_EXPERIMENTAL_CXX0X__</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#       define TINYFORMAT_USE_VARIADIC_TEMPLATES</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#ifdef __GNUC__</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#   define TINYFORMAT_NOINLINE __attribute__((noinline))</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#elif defined(_MSC_VER)</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#   define TINYFORMAT_NOINLINE __declspec(noinline)</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#   define TINYFORMAT_NOINLINE</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#if defined(__GLIBCXX__) &amp;&amp; __GLIBCXX__ &lt; 20080201</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">//  std::showpos is broken on old libstdc++ as provided with OSX.  See</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">//  http://gcc.gnu.org/ml/libstdc++/2007-11/msg00075.html</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#   define TINYFORMAT_OLD_LIBSTDCPLUSPLUS_WORKAROUND</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetinyformat.html">tinyformat</a> {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">namespace </span>detail {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">// Test whether type T1 is convertible to type T2</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1is__convertible.html">  157</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1is__convertible.html">is_convertible</a></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="comment">// two types of different size</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keyword">struct </span>fail { <span class="keywordtype">char</span> dummy[2]; };</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keyword">struct </span>succeed { <span class="keywordtype">char</span> dummy; };</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">// Try to convert a T1 to a T2 by plugging into tryConvert</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keyword">static</span> fail tryConvert(...);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keyword">static</span> succeed tryConvert(<span class="keyword">const</span> T2&amp;);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> T1&amp; makeT1();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#       ifdef _MSC_VER</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">// Disable spurious loss of precision warnings in tryConvert(makeT1())</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#       pragma warning(push)</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#       pragma warning(disable:4244)</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#       pragma warning(disable:4267)</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment">// Standard trick: the (...) version of tryConvert will be chosen from</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="comment">// the overload set only if the version taking a T2 doesn&#39;t match.</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Then we compare the sizes of the return types to check which</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">// function matched.  Very neat, in a disgusting kind of way :)</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value =</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keyword">sizeof</span>(tryConvert(makeT1())) == <span class="keyword">sizeof</span>(succeed);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#       ifdef _MSC_VER</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#       pragma warning(pop)</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;};</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">// Detect when a type is not a wchar_t string</span></div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1is__wchar.html">  187</a></span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1is__wchar.html">is_wchar</a> { <span class="keyword">typedef</span> <span class="keywordtype">int</span> tinyformat_wchar_is_not_supported; };</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1is__wchar_3_01wchar__t_01_5_01_4.html">  188</a></span>&#160;<span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1is__wchar.html">is_wchar</a>&lt;wchar_t*&gt; {};</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1is__wchar_3_01const_01wchar__t_01_5_01_4.html">  189</a></span>&#160;<span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1is__wchar.html">is_wchar</a>&lt;const wchar_t*&gt; {};</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1is__wchar_3_01const_01wchar__t[n]_4.html">  190</a></span>&#160;<span class="keyword">template</span>&lt;<span class="keywordtype">int</span> n&gt; <span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1is__wchar.html">is_wchar</a>&lt;const wchar_t[n]&gt; {};</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1is__wchar_3_01wchar__t[n]_4.html">  191</a></span>&#160;<span class="keyword">template</span>&lt;<span class="keywordtype">int</span> n&gt; <span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1is__wchar.html">is_wchar</a>&lt;wchar_t[n]&gt; {};</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">// Format the value by casting to type fmtT.  This default implementation</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">// should never be called.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;template&lt;typename T, typename fmtT, bool convertible = is_convertible&lt;T, fmtT&gt;::value&gt;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1format_value_as_type.html">  197</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1format_value_as_type.html">formatValueAsType</a></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> invoke(std::ostream&amp; <span class="comment">/*out*/</span>, <span class="keyword">const</span> T&amp; <span class="comment">/*value*/</span>) { assert(0); }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;};</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">// Specialized version for types that can actually be converted to fmtT, as</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">// indicated by the &quot;convertible&quot; template parameter.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> fmtT&gt;</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1format_value_as_type_3_01_t_00_01fmt_t_00_01true_01_4.html">  204</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1format_value_as_type.html">formatValueAsType</a>&lt;T,fmtT,true&gt;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> invoke(std::ostream&amp; out, <span class="keyword">const</span> T&amp; value)</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        { out &lt;&lt; static_cast&lt;fmtT&gt;(value); }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;};</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">#ifdef TINYFORMAT_OLD_LIBSTDCPLUSPLUS_WORKAROUND</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;template&lt;typename T, bool convertible = is_convertible&lt;T, int&gt;::value&gt;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keyword">struct </span>formatZeroIntegerWorkaround</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> invoke(std::ostream&amp; , <span class="keyword">const</span> T&amp; ) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;};</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="keyword">struct </span>formatZeroIntegerWorkaround&lt;T,true&gt;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> invoke(std::ostream&amp; out, <span class="keyword">const</span> T&amp; value)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (static_cast&lt;int&gt;(value) == 0 &amp;&amp; out.flags() &amp; std::ios::showpos)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            out &lt;&lt; <span class="stringliteral">&quot;+0&quot;</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;};</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#endif // TINYFORMAT_OLD_LIBSTDCPLUSPLUS_WORKAROUND</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">// Convert an arbitrary type to integer.  The version with convertible=false</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">// throws an error.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;template&lt;typename T, bool convertible = is_convertible&lt;T,int&gt;::value&gt;</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1convert_to_int.html">  234</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1convert_to_int.html">convertToInt</a></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> invoke(<span class="keyword">const</span> T&amp; <span class="comment">/*value*/</span>)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        TINYFORMAT_ERROR(<span class="stringliteral">&quot;tinyformat: Cannot convert from argument type to &quot;</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                         <span class="stringliteral">&quot;integer for use as variable width or precision&quot;</span>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;};</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">// Specialization for convertToInt when conversion is possible</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structtinyformat_1_1detail_1_1convert_to_int_3_01_t_00_01true_01_4.html">  245</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtinyformat_1_1detail_1_1convert_to_int.html">convertToInt</a>&lt;T,true&gt;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> invoke(<span class="keyword">const</span> T&amp; value) { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(value); }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;};</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;} <span class="comment">// namespace detail</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">// Variable formatting functions.  May be overridden for user-defined types if</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">// desired.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">// Format a value into a stream. Called from format() for all types by default.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">// Users may override this for their own types.  When this function is called,</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">// the stream flags will have been modified according to the format string.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">// The format specification is provided in the range [fmtBegin, fmtEnd).</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">// By default, formatValue() uses the usual stream insertion operator</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">// operator&lt;&lt; to format the type T, with special cases for the %c and %p</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">// conversions.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> formatValue(std::ostream&amp; out, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="comment">/*fmtBegin*/</span>,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>* fmtEnd, <span class="keyword">const</span> T&amp; value)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">#ifndef TINYFORMAT_ALLOW_WCHAR_STRINGS</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// Since we don&#39;t support printing of wchar_t using &quot;%ls&quot;, make it fail at</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// compile time in preference to printing as a void* at runtime.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> detail::is_wchar&lt;T&gt;::tinyformat_wchar_is_not_supported DummyType;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    (void) DummyType(); <span class="comment">// avoid unused type warning with gcc-4.8</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// The mess here is to support the %c and %p conversions: if these</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// conversions are active we try to convert the type to a char or const</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// void* respectively and format that instead of the value itself.  For the</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// %p conversion it&#39;s important to avoid dereferencing the pointer, which</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// could otherwise lead to a crash when printing a dangling (const char*).</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> canConvertToChar = <a class="code" href="structtinyformat_1_1detail_1_1is__convertible.html">detail::is_convertible&lt;T,char&gt;::value</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> canConvertToVoidPtr = <a class="code" href="structtinyformat_1_1detail_1_1is__convertible.html">detail::is_convertible&lt;T, const void*&gt;::value</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span>(canConvertToChar &amp;&amp; *(fmtEnd-1) == <span class="charliteral">&#39;c&#39;</span>)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="structtinyformat_1_1detail_1_1format_value_as_type.html">detail::formatValueAsType&lt;T, char&gt;::invoke</a>(out, value);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(canConvertToVoidPtr &amp;&amp; *(fmtEnd-1) == <span class="charliteral">&#39;p&#39;</span>)</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="structtinyformat_1_1detail_1_1format_value_as_type.html">detail::formatValueAsType&lt;T, const void*&gt;::invoke</a>(out, value);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#ifdef TINYFORMAT_OLD_LIBSTDCPLUSPLUS_WORKAROUND</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(detail::formatZeroIntegerWorkaround&lt;T&gt;::invoke(out, value)) ;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        out &lt;&lt; value;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">// Overloaded version for char types to support printing as an integer</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">#define TINYFORMAT_DEFINE_FORMATVALUE_CHAR(charType)                  \</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">inline void formatValue(std::ostream&amp; out, const char* </span><span class="comment">/*fmtBegin*/</span><span class="preprocessor">,  \</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">                        const char* fmtEnd, charType value)           \</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">{                                                                     \</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">    switch(*(fmtEnd-1))                                               \</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">    {                                                                 \</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">        case &#39;u&#39;: case &#39;d&#39;: case &#39;i&#39;: case &#39;o&#39;: case &#39;X&#39;: case &#39;x&#39;:   \</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">            out &lt;&lt; static_cast&lt;int&gt;(value); break;                    \</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="preprocessor">        default:                                                      \</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">            out &lt;&lt; value;                   break;                    \</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor">    }                                                                 \</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">// per 3.9.1: char, signed char and unsigned char are all distinct types</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;TINYFORMAT_DEFINE_FORMATVALUE_CHAR(<span class="keywordtype">char</span>)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;TINYFORMAT_DEFINE_FORMATVALUE_CHAR(<span class="keywordtype">signed</span> <span class="keywordtype">char</span>)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;TINYFORMAT_DEFINE_FORMATVALUE_CHAR(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#undef TINYFORMAT_DEFINE_FORMATVALUE_CHAR</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">// Tools for emulating variadic templates in C++98.  The basic idea here is</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">// stolen from the boost preprocessor metaprogramming library and cut down to</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">// be just general enough for what we need.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES(n) TINYFORMAT_ARGTYPES_ ## n</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS(n) TINYFORMAT_VARARGS_ ## n</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS(n) TINYFORMAT_PASSARGS_ ## n</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL(n) TINYFORMAT_PASSARGS_TAIL_ ## n</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">// To keep it as transparent as possible, the macros below have been generated</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">// using python via the excellent cog.py code generation script.  This avoids</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">// the need for a bunch of complex (but more general) preprocessor tricks as</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">// used in boost.preprocessor.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">// To rerun the code generation in place, use `cog.py -r tinyformat.h`</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// (see http://nedbatchelder.com/code/cog).  Alternatively you can just create</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">// extra versions by hand.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">/*[[[cog</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">maxParams = 16</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">def makeCommaSepLists(lineTemplate, elemTemplate, startInd=1):</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">    for j in range(startInd,maxParams+1):</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">        list = &#39;, &#39;.join([elemTemplate % {&#39;i&#39;:i} for i in range(startInd,j+1)])</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">        cog.outl(lineTemplate % {&#39;j&#39;:j, &#39;list&#39;:list})</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">makeCommaSepLists(&#39;#define TINYFORMAT_ARGTYPES_%(j)d %(list)s&#39;,</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">                  &#39;class T%(i)d&#39;)</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">cog.outl()</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">makeCommaSepLists(&#39;#define TINYFORMAT_VARARGS_%(j)d %(list)s&#39;,</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">                  &#39;const T%(i)d&amp; v%(i)d&#39;)</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">cog.outl()</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">makeCommaSepLists(&#39;#define TINYFORMAT_PASSARGS_%(j)d %(list)s&#39;, &#39;v%(i)d&#39;)</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">cog.outl()</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">cog.outl(&#39;#define TINYFORMAT_PASSARGS_TAIL_1&#39;)</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">makeCommaSepLists(&#39;#define TINYFORMAT_PASSARGS_TAIL_%(j)d , %(list)s&#39;,</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">                  &#39;v%(i)d&#39;, startInd = 2)</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">cog.outl()</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">cog.outl(&#39;#define TINYFORMAT_FOREACH_ARGNUM(m) \\\n    &#39; +</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">         &#39; &#39;.join([&#39;m(%d)&#39; % (j,) for j in range(1,maxParams+1)]))</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">]]]*/</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_1 class T1</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_2 class T1, class T2</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_3 class T1, class T2, class T3</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_4 class T1, class T2, class T3, class T4</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_5 class T1, class T2, class T3, class T4, class T5</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_6 class T1, class T2, class T3, class T4, class T5, class T6</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_7 class T1, class T2, class T3, class T4, class T5, class T6, class T7</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_8 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_9 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_10 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_11 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10, class T11</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_12 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10, class T11, class T12</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_13 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10, class T11, class T12, class T13</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_14 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10, class T11, class T12, class T13, class T14</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_15 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10, class T11, class T12, class T13, class T14, class T15</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#define TINYFORMAT_ARGTYPES_16 class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10, class T11, class T12, class T13, class T14, class T15, class T16</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_1 const T1&amp; v1</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_2 const T1&amp; v1, const T2&amp; v2</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_3 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_4 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_5 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_6 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_7 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_8 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_9 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_10 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9, const T10&amp; v10</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_11 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9, const T10&amp; v10, const T11&amp; v11</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_12 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9, const T10&amp; v10, const T11&amp; v11, const T12&amp; v12</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_13 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9, const T10&amp; v10, const T11&amp; v11, const T12&amp; v12, const T13&amp; v13</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_14 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9, const T10&amp; v10, const T11&amp; v11, const T12&amp; v12, const T13&amp; v13, const T14&amp; v14</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_15 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9, const T10&amp; v10, const T11&amp; v11, const T12&amp; v12, const T13&amp; v13, const T14&amp; v14, const T15&amp; v15</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor">#define TINYFORMAT_VARARGS_16 const T1&amp; v1, const T2&amp; v2, const T3&amp; v3, const T4&amp; v4, const T5&amp; v5, const T6&amp; v6, const T7&amp; v7, const T8&amp; v8, const T9&amp; v9, const T10&amp; v10, const T11&amp; v11, const T12&amp; v12, const T13&amp; v13, const T14&amp; v14, const T15&amp; v15, const T16&amp; v16</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_1 v1</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_2 v1, v2</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_3 v1, v2, v3</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_4 v1, v2, v3, v4</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_5 v1, v2, v3, v4, v5</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_6 v1, v2, v3, v4, v5, v6</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_7 v1, v2, v3, v4, v5, v6, v7</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_8 v1, v2, v3, v4, v5, v6, v7, v8</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_9 v1, v2, v3, v4, v5, v6, v7, v8, v9</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_10 v1, v2, v3, v4, v5, v6, v7, v8, v9, v10</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_11 v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_12 v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_13 v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_14 v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_15 v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_16 v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_1</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_2 , v2</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_3 , v2, v3</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_4 , v2, v3, v4</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_5 , v2, v3, v4, v5</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_6 , v2, v3, v4, v5, v6</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_7 , v2, v3, v4, v5, v6, v7</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_8 , v2, v3, v4, v5, v6, v7, v8</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_9 , v2, v3, v4, v5, v6, v7, v8, v9</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_10 , v2, v3, v4, v5, v6, v7, v8, v9, v10</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_11 , v2, v3, v4, v5, v6, v7, v8, v9, v10, v11</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_12 , v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_13 , v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_14 , v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_15 , v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#define TINYFORMAT_PASSARGS_TAIL_16 , v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#define TINYFORMAT_FOREACH_ARGNUM(m) \</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">    m(1) m(2) m(3) m(4) m(5) m(6) m(7) m(8) m(9) m(10) m(11) m(12) m(13) m(14) m(15) m(16)</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">//[[[end]]]</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="keyword">namespace </span>detail {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">// Class holding current position in format string and an output stream into</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">// which arguments are formatted.</span></div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="classtinyformat_1_1detail_1_1_format_iterator.html">  440</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">// Flags for features not representable with standard stream state</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keyword">enum</span> ExtraFormatFlags</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            Flag_None                = 0,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            Flag_TruncateToPrecision = 1&lt;&lt;0, <span class="comment">// truncate length to stream precision()</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            Flag_SpacePadPositive    = 1&lt;&lt;1, <span class="comment">// pad positive values with spaces</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            Flag_VariableWidth       = 1&lt;&lt;2, <span class="comment">// variable field width in arg list</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            Flag_VariablePrecision   = 1&lt;&lt;3  <span class="comment">// variable field precision in arg list</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        };</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="comment">// out is the output stream, fmt is the full format string</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>(std::ostream&amp; out, <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            : m_out(out),</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            m_fmt(fmt),</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            m_extraFlags(Flag_None),</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            m_wantWidth(<span class="keyword">false</span>),</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            m_wantPrecision(<span class="keyword">false</span>),</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            m_variableWidth(0),</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            m_variablePrecision(0),</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            m_origWidth(out.width()),</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            m_origPrecision(out.precision()),</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            m_origFlags(out.flags()),</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            m_origFill(out.fill())</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        { }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment">// Print remaining part of format string.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordtype">void</span> finish()</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="comment">// It would be nice if we could do this from the destructor, but we</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="comment">// can&#39;t if TINFORMAT_ERROR is used to throw an exception!</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            m_fmt = printFormatStringLiteral(m_out, m_fmt);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">if</span>(*m_fmt != <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                TINYFORMAT_ERROR(<span class="stringliteral">&quot;tinyformat: Too many conversion specifiers in format string&quot;</span>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        ~<a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>()</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="comment">// Restore stream state</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            m_out.width(m_origWidth);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            m_out.precision(m_origPrecision);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            m_out.flags(m_origFlags);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            m_out.fill(m_origFill);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordtype">void</span> accept(<span class="keyword">const</span> T&amp; value);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// Parse and return an integer from the string c, as atoi()</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">// On return, c is set to one past the end of the integer.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">int</span> parseIntAndAdvance(<span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; c)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordflow">for</span>(;*c &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *c &lt;= <span class="charliteral">&#39;9&#39;</span>; ++c)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                i = 10*i + (*c - <span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">// Format at most truncLen characters of a C string to the given</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">// stream.  Return true if formatting proceeded (generic version always</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="comment">// returns false)</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> formatCStringTruncate(std::ostream&amp; <span class="comment">/*out*/</span>, <span class="keyword">const</span> T&amp; <span class="comment">/*value*/</span>,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                        std::streamsize <span class="comment">/*truncLen*/</span>)</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="preprocessor">#       define TINYFORMAT_DEFINE_FORMAT_C_STRING_TRUNCATE(type)            \</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">        static bool formatCStringTruncate(std::ostream&amp; out, type* value,  \</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">                                        std::streamsize truncLen)          \</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">        {                                                                  \</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">            std::streamsize len = 0;                                       \</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">            while(len &lt; truncLen &amp;&amp; value[len] != 0)                       \</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">                ++len;                                                     \</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">            out.write(value, len);                                         \</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">            return true;                                                   \</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">        }</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="comment">// Overload for const char* and char*.  Could overload for signed &amp;</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="comment">// unsigned char too, but these are technically unneeded for printf</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// compatibility.</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        TINYFORMAT_DEFINE_FORMAT_C_STRING_TRUNCATE(<span class="keyword">const</span> <span class="keywordtype">char</span>)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        TINYFORMAT_DEFINE_FORMAT_C_STRING_TRUNCATE(<span class="keywordtype">char</span>)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="preprocessor">#       undef TINYFORMAT_DEFINE_FORMAT_C_STRING_TRUNCATE</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">// Print literal part of format string and return next format spec</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">// position.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">// Skips over any occurrences of &#39;%%&#39;, printing a literal &#39;%&#39; to the</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">// output.  The position of the first % character of the next</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="comment">// nontrivial format spec is returned, or the end of string.</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* printFormatStringLiteral(std::ostream&amp; out,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                                    <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt)</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span>* c = fmt;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">for</span>(; <span class="keyword">true</span>; ++c)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <span class="keywordflow">switch</span>(*c)</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                        out.write(fmt, static_cast&lt;std::streamsize&gt;(c - fmt));</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                        <span class="keywordflow">return</span> c;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                        out.write(fmt, static_cast&lt;std::streamsize&gt;(c - fmt));</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        <span class="keywordflow">if</span>(*(c+1) != <span class="charliteral">&#39;%&#39;</span>)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                            <span class="keywordflow">return</span> c;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        <span class="comment">// for &quot;%%&quot;, tack trailing % onto next literal section.</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                        fmt = ++c;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* streamStateFromFormat(std::ostream&amp; out,</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; extraFlags,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                                 <span class="keyword">const</span> <span class="keywordtype">char</span>* fmtStart,</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                                 <span class="keywordtype">int</span> variableWidth,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                                 <span class="keywordtype">int</span> variablePrecision);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="comment">// Private copy &amp; assign: Kill gcc warnings with -Weffc++</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>(<span class="keyword">const</span> <a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>&amp;);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>&amp;);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">// Stream, current format string &amp; state</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        std::ostream&amp; m_out;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>* m_fmt;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_extraFlags;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">// State machine info for handling of variable width &amp; precision</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordtype">bool</span> m_wantWidth;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordtype">bool</span> m_wantPrecision;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordtype">int</span> m_variableWidth;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordtype">int</span> m_variablePrecision;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// Saved stream state</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        std::streamsize m_origWidth;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        std::streamsize m_origPrecision;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        std::ios::fmtflags m_origFlags;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordtype">char</span> m_origFill;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;};</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">// Accept a value for formatting into the internal stream.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;TINYFORMAT_NOINLINE  <span class="comment">// &lt; greatly reduces bloat in optimized builds</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="keywordtype">void</span> FormatIterator::accept(<span class="keyword">const</span> T&amp; value)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// Parse the format string</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* fmtEnd = 0;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span>(m_extraFlags == Flag_None &amp;&amp; !m_wantWidth &amp;&amp; !m_wantPrecision)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        m_fmt = printFormatStringLiteral(m_out, m_fmt);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        fmtEnd = streamStateFromFormat(m_out, m_extraFlags, m_fmt, 0, 0);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        m_wantWidth     = (m_extraFlags &amp; Flag_VariableWidth) != 0;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        m_wantPrecision = (m_extraFlags &amp; Flag_VariablePrecision) != 0;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">// Consume value as variable width and precision specifier if necessary</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span>(m_extraFlags &amp; (Flag_VariableWidth | Flag_VariablePrecision))</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">if</span>(m_wantWidth || m_wantPrecision)</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordtype">int</span> v = <a class="code" href="structtinyformat_1_1detail_1_1convert_to_int.html">convertToInt&lt;T&gt;::invoke</a>(value);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span>(m_wantWidth)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                m_variableWidth = v;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                m_wantWidth = <span class="keyword">false</span>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m_wantPrecision)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                m_variablePrecision = v;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                m_wantPrecision = <span class="keyword">false</span>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="comment">// If we get here, we&#39;ve set both the variable precision and width as</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="comment">// required and we need to rerun the stream state setup to insert these.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        fmtEnd = streamStateFromFormat(m_out, m_extraFlags, m_fmt,</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                       m_variableWidth, m_variablePrecision);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// Format the value into the stream.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">if</span>(!(m_extraFlags &amp; (Flag_SpacePadPositive | Flag_TruncateToPrecision)))</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        formatValue(m_out, m_fmt, fmtEnd, value);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="comment">// The following are special cases where there&#39;s no direct</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="comment">// correspondence between stream formatting and the printf() behaviour.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="comment">// Instead, we simulate the behaviour crudely by formatting into a</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="comment">// temporary string stream and munging the resulting string.</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        std::ostringstream tmpStream;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        tmpStream.copyfmt(m_out);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">if</span>(m_extraFlags &amp; Flag_SpacePadPositive)</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            tmpStream.setf(std::ios::showpos);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// formatCStringTruncate is required for truncating conversions like</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="comment">// &quot;%.4s&quot; where at most 4 characters of the c-string should be read.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="comment">// If we didn&#39;t include this special case, we might read off the end.</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">if</span>(!( (m_extraFlags &amp; Flag_TruncateToPrecision) &amp;&amp;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;             formatCStringTruncate(tmpStream, value, m_out.precision()) ))</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="comment">// Not a truncated c-string; just format normally.</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            formatValue(tmpStream, m_fmt, fmtEnd, value);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        std::string result = tmpStream.str(); <span class="comment">// allocates... yuck.</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">if</span>(m_extraFlags &amp; Flag_SpacePadPositive)</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0, iend = result.size(); i &lt; iend; ++i)</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">if</span>(result[i] == <span class="charliteral">&#39;+&#39;</span>)</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    result[i] = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">if</span>((m_extraFlags &amp; Flag_TruncateToPrecision) &amp;&amp;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;           (int)result.size() &gt; (int)m_out.precision())</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            m_out.write(result.c_str(), m_out.precision());</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            m_out &lt;&lt; result;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    m_extraFlags = Flag_None;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    m_fmt = fmtEnd;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">// Parse a format string and set the stream state accordingly.</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">// The format mini-language recognized here is meant to be the one from C99,</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">// with the form &quot;%[flags][width][.precision][length]type&quot;.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">// Formatting options which can&#39;t be natively represented using the ostream</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">// state are returned in the extraFlags parameter which is a bitwise</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">// combination of values from the ExtraFormatFlags enum.</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* FormatIterator::streamStateFromFormat(std::ostream&amp; out,</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; extraFlags,</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                                                         <span class="keyword">const</span> <span class="keywordtype">char</span>* fmtStart,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                                         <span class="keywordtype">int</span> variableWidth,</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                                         <span class="keywordtype">int</span> variablePrecision)</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;{</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span>(*fmtStart != <span class="charliteral">&#39;%&#39;</span>)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        TINYFORMAT_ERROR(<span class="stringliteral">&quot;tinyformat: Not enough conversion specifiers in format string&quot;</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">return</span> fmtStart;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">// Reset stream state to defaults.</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    out.width(0);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    out.precision(6);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    out.fill(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// Reset most flags; ignore irrelevant unitbuf &amp; skipws.</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    out.unsetf(std::ios::adjustfield | std::ios::basefield |</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;               std::ios::floatfield | std::ios::showbase | std::ios::boolalpha |</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;               std::ios::showpoint | std::ios::showpos | std::ios::uppercase);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    extraFlags = Flag_None;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordtype">bool</span> precisionSet = <span class="keyword">false</span>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordtype">bool</span> widthSet = <span class="keyword">false</span>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* c = fmtStart + 1;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="comment">// 1) Parse flags</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">for</span>(;; ++c)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">switch</span>(*c)</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;#&#39;</span>:</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                out.setf(std::ios::showpoint | std::ios::showbase);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                <span class="comment">// overridden by left alignment (&#39;-&#39; flag)</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keywordflow">if</span>(!(out.flags() &amp; std::ios::left))</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    <span class="comment">// Use internal padding so that numeric values are</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <span class="comment">// formatted correctly, eg -00010 rather than 000-10</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    out.fill(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    out.setf(std::ios::internal, std::ios::adjustfield);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>:</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                out.fill(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                out.setf(std::ios::left, std::ios::adjustfield);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <span class="comment">// overridden by show positive sign, &#39;+&#39; flag.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                <span class="keywordflow">if</span>(!(out.flags() &amp; std::ios::showpos))</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    extraFlags |= Flag_SpacePadPositive;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>:</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                out.setf(std::ios::showpos);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                extraFlags &amp;= ~Flag_SpacePadPositive;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// 2) Parse width</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span>(*c &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *c &lt;= <span class="charliteral">&#39;9&#39;</span>)</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        widthSet = <span class="keyword">true</span>;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        out.width(parseIntAndAdvance(c));</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span>(*c == <span class="charliteral">&#39;*&#39;</span>)</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        widthSet = <span class="keyword">true</span>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">if</span>(variableWidth &lt; 0)</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="comment">// negative widths correspond to &#39;-&#39; flag set</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            out.fill(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            out.setf(std::ios::left, std::ios::adjustfield);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            variableWidth = -variableWidth;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        out.width(variableWidth);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        extraFlags |= Flag_VariableWidth;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        ++c;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// 3) Parse precision</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span>(*c == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        ++c;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordtype">int</span> precision = 0;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">if</span>(*c == <span class="charliteral">&#39;*&#39;</span>)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            ++c;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            extraFlags |= Flag_VariablePrecision;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            precision = variablePrecision;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keywordflow">if</span>(*c &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *c &lt;= <span class="charliteral">&#39;9&#39;</span>)</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                precision = parseIntAndAdvance(c);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(*c == <span class="charliteral">&#39;-&#39;</span>) <span class="comment">// negative precisions ignored, treated as zero.</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                parseIntAndAdvance(++c);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        out.precision(precision);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        precisionSet = <span class="keyword">true</span>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// 4) Ignore any C99 length modifier</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">while</span>(*c == <span class="charliteral">&#39;l&#39;</span> || *c == <span class="charliteral">&#39;h&#39;</span> || *c == <span class="charliteral">&#39;L&#39;</span> ||</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          *c == <span class="charliteral">&#39;j&#39;</span> || *c == <span class="charliteral">&#39;z&#39;</span> || *c == <span class="charliteral">&#39;t&#39;</span>)</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        ++c;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">// 5) We&#39;re up to the conversion specifier character.</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// Set stream flags based on conversion specifier (thanks to the</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// boost::format class for forging the way here).</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">bool</span> intConversion = <span class="keyword">false</span>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">switch</span>(*c)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            out.setf(std::ios::dec, std::ios::basefield);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            intConversion = <span class="keyword">true</span>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            out.setf(std::ios::oct, std::ios::basefield);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            intConversion = <span class="keyword">true</span>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            out.setf(std::ios::uppercase);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            out.setf(std::ios::hex, std::ios::basefield);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            intConversion = <span class="keyword">true</span>;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>:</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            out.setf(std::ios::uppercase);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            out.setf(std::ios::scientific, std::ios::floatfield);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            out.setf(std::ios::dec, std::ios::basefield);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>:</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            out.setf(std::ios::uppercase);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            out.setf(std::ios::fixed, std::ios::floatfield);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>:</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            out.setf(std::ios::uppercase);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            out.setf(std::ios::dec, std::ios::basefield);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="comment">// As in boost::format, let stream decide float format.</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            out.flags(out.flags() &amp; ~<a class="code" href="namespacestd.html">std</a>::ios::floatfield);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            TINYFORMAT_ERROR(<span class="stringliteral">&quot;tinyformat: the %a and %A conversion specs &quot;</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                             <span class="stringliteral">&quot;are not supported&quot;</span>);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="comment">// Handled as special case inside formatValue()</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="keywordflow">if</span>(precisionSet)</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                extraFlags |= Flag_TruncateToPrecision;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="comment">// Make %s print booleans as &quot;true&quot; and &quot;false&quot;</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            out.setf(std::ios::boolalpha);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="comment">// Not supported - will cause problems!</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            TINYFORMAT_ERROR(<span class="stringliteral">&quot;tinyformat: %n conversion spec not supported&quot;</span>);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            TINYFORMAT_ERROR(<span class="stringliteral">&quot;tinyformat: Conversion spec incorrectly &quot;</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                             <span class="stringliteral">&quot;terminated by end of string&quot;</span>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">return</span> c;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span>(intConversion &amp;&amp; precisionSet &amp;&amp; !widthSet)</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="comment">// &quot;precision&quot; for integers gives the minimum number of digits (to be</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="comment">// padded with zeros on the left).  This isn&#39;t really supported by the</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="comment">// iostreams, but we can approximately simulate it with the width if</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="comment">// the width isn&#39;t otherwise used.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        out.width(out.precision());</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        out.setf(std::ios::internal, std::ios::adjustfield);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        out.fill(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">return</span> c+1;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">// Private format function on top of which the public interface is implemented.</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">// We enforce a mimimum of one value to be formatted to prevent bugs looking like</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">//   const char* myStr = &quot;100% broken&quot;;</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">//   printf(myStr);   // Parses % as a format specifier</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#ifdef TINYFORMAT_USE_VARIADIC_TEMPLATES</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1&gt;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="keywordtype">void</span> format(<a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>&amp; fmtIter, <span class="keyword">const</span> T1&amp; value1)</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;{</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    fmtIter.accept(value1);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    fmtIter.finish();</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">// General version for C++11</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="keywordtype">void</span> format(<a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>&amp; fmtIter, <span class="keyword">const</span> T1&amp; value1, <span class="keyword">const</span> Args&amp;... args)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;{</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    fmtIter.accept(value1);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    format(fmtIter, args...);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> format(<a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">FormatIterator</a>&amp; fmtIter)</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;{</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    fmtIter.finish();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">// General version for C++98</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#define TINYFORMAT_MAKE_FORMAT_DETAIL(n)                                  \</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="preprocessor">template&lt;TINYFORMAT_ARGTYPES(n)&gt;                                          \</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">void format(detail::FormatIterator&amp; fmtIter, TINYFORMAT_VARARGS(n))       \</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="preprocessor">{                                                                         \</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="preprocessor">    fmtIter.accept(v1);                                                   \</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="preprocessor">    format(fmtIter TINYFORMAT_PASSARGS_TAIL(n));                          \</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;TINYFORMAT_FOREACH_ARGNUM(TINYFORMAT_MAKE_FORMAT_DETAIL)</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="preprocessor">#undef TINYFORMAT_MAKE_FORMAT_DETAIL</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="preprocessor">#endif // End C++98 variadic template emulation for format()</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;} <span class="comment">// namespace detail</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">// Implement all the main interface functions here in terms of detail::format()</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="preprocessor">#ifdef TINYFORMAT_USE_VARIADIC_TEMPLATES</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">// C++11 - the simple case</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="keywordtype">void</span> format(std::ostream&amp; out, <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, <span class="keyword">const</span> T1&amp; v1, <span class="keyword">const</span> Args&amp;... args)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;{</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="classtinyformat_1_1detail_1_1_format_iterator.html">detail::FormatIterator</a> fmtIter(out, fmt);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    format(fmtIter, v1, args...);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;std::string format(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, <span class="keyword">const</span> T1&amp; v1, <span class="keyword">const</span> Args&amp;... args)</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;{</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    std::ostringstream oss;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    format(oss, fmt, v1, args...);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">return</span> oss.str();</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;std::string format(<span class="keyword">const</span> std::string &amp;fmt, <span class="keyword">const</span> T1&amp; v1, <span class="keyword">const</span> Args&amp;... args)</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;{</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    std::ostringstream oss;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    format(oss, fmt.c_str(), v1, args...);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">return</span> oss.str();</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="keywordtype">void</span> printf(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, <span class="keyword">const</span> T1&amp; v1, <span class="keyword">const</span> Args&amp;... args)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;{</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    format(std::cout, fmt, v1, args...);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">// C++98 - define the interface functions using the wrapping macros</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">#define TINYFORMAT_MAKE_FORMAT_FUNCS(n)                                   \</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="preprocessor">                                                                          \</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="preprocessor">template&lt;TINYFORMAT_ARGTYPES(n)&gt;                                          \</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">void format(std::ostream&amp; out, const char* fmt, TINYFORMAT_VARARGS(n))    \</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="preprocessor">{                                                                         \</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">    tinyformat::detail::FormatIterator fmtIter(out, fmt);                 \</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="preprocessor">    tinyformat::detail::format(fmtIter, TINYFORMAT_PASSARGS(n));          \</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="preprocessor">}                                                                         \</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="preprocessor">                                                                          \</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="preprocessor">template&lt;TINYFORMAT_ARGTYPES(n)&gt;                                          \</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="preprocessor">std::string format(const char* fmt, TINYFORMAT_VARARGS(n))                \</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="preprocessor">{                                                                         \</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="preprocessor">    std::ostringstream oss;                                               \</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="preprocessor">    tinyformat::format(oss, fmt, TINYFORMAT_PASSARGS(n));                 \</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="preprocessor">    return oss.str();                                                     \</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="preprocessor">}                                                                         \</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="preprocessor">                                                                          \</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="preprocessor">template&lt;TINYFORMAT_ARGTYPES(n)&gt;                                          \</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">std::string format(const std::string &amp;fmt, TINYFORMAT_VARARGS(n))         \</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="preprocessor">{                                                                         \</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="preprocessor">    std::ostringstream oss;                                               \</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="preprocessor">    tinyformat::format(oss, fmt.c_str(), TINYFORMAT_PASSARGS(n));         \</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="preprocessor">    return oss.str();                                                     \</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="preprocessor">}                                                                         \</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="preprocessor">                                                                          \</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="preprocessor">template&lt;TINYFORMAT_ARGTYPES(n)&gt;                                          \</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="preprocessor">void printf(const char* fmt, TINYFORMAT_VARARGS(n))                       \</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="preprocessor">{                                                                         \</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="preprocessor">    tinyformat::format(std::cout, fmt, TINYFORMAT_PASSARGS(n));           \</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;TINYFORMAT_FOREACH_ARGNUM(TINYFORMAT_MAKE_FORMAT_FUNCS)</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="preprocessor">#undef TINYFORMAT_MAKE_FORMAT_FUNCS</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">// Define deprecated wrapping macro for backward compatibility in tinyformat</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">// 1.x.  Will be removed in version 2!</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="preprocessor">#define TINYFORMAT_WRAP_FORMAT_EXTRA_ARGS</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="preprocessor">#define TINYFORMAT_WRAP_FORMAT_N(n, returnType, funcName, funcDeclSuffix,  \</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="preprocessor">                                 bodyPrefix, streamName, bodySuffix)       \</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="preprocessor">template&lt;TINYFORMAT_ARGTYPES(n)&gt;                                           \</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="preprocessor">returnType funcName(TINYFORMAT_WRAP_FORMAT_EXTRA_ARGS const char* fmt,     \</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="preprocessor">                    TINYFORMAT_VARARGS(n)) funcDeclSuffix                  \</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="preprocessor">{                                                                          \</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="preprocessor">    bodyPrefix                                                             \</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="preprocessor">    tinyformat::format(streamName, fmt, TINYFORMAT_PASSARGS(n));           \</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="preprocessor">    bodySuffix                                                             \</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor">}                                                                          \</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">#define TINYFORMAT_WRAP_FORMAT(returnType, funcName, funcDeclSuffix,       \</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="preprocessor">                               bodyPrefix, streamName, bodySuffix)         \</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">inline                                                                     \</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="preprocessor">returnType funcName(TINYFORMAT_WRAP_FORMAT_EXTRA_ARGS const char* fmt      \</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="preprocessor">                    ) funcDeclSuffix                                       \</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="preprocessor">{                                                                          \</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="preprocessor">    bodyPrefix                                                             \</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="preprocessor">    tinyformat::detail::FormatIterator(streamName, fmt).finish();          \</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="preprocessor">    bodySuffix                                                             \</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="preprocessor">}                                                                          \</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(1 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(2 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(3 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(4 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(5 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(6 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(7 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(8 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(9 , returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(10, returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(11, returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(12, returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(13, returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(14, returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(15, returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="preprocessor">TINYFORMAT_WRAP_FORMAT_N(16, returnType, funcName, funcDeclSuffix, bodyPrefix, streamName, bodySuffix) \</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;} <span class="comment">// namespace tinyformat</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="preprocessor">#define strprintf tfm::format</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">#endif // TINYFORMAT_H_INCLUDED</span></div><div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="structtinyformat_1_1detail_1_1format_value_as_type_html"><div class="ttname"><a href="structtinyformat_1_1detail_1_1format_value_as_type.html">tinyformat::detail::formatValueAsType</a></div><div class="ttdef"><b>Definition:</b> tinyformat.h:197</div></div>
<div class="ttc" id="structtinyformat_1_1detail_1_1is__convertible_html"><div class="ttname"><a href="structtinyformat_1_1detail_1_1is__convertible.html">tinyformat::detail::is_convertible</a></div><div class="ttdef"><b>Definition:</b> tinyformat.h:157</div></div>
<div class="ttc" id="structtinyformat_1_1detail_1_1is__wchar_html"><div class="ttname"><a href="structtinyformat_1_1detail_1_1is__wchar.html">tinyformat::detail::is_wchar</a></div><div class="ttdef"><b>Definition:</b> tinyformat.h:187</div></div>
<div class="ttc" id="classtinyformat_1_1detail_1_1_format_iterator_html"><div class="ttname"><a href="classtinyformat_1_1detail_1_1_format_iterator.html">tinyformat::detail::FormatIterator</a></div><div class="ttdef"><b>Definition:</b> tinyformat.h:440</div></div>
<div class="ttc" id="namespacetinyformat_html"><div class="ttname"><a href="namespacetinyformat.html">tinyformat</a></div><div class="ttdef"><b>Definition:</b> tinyformat.h:104</div></div>
<div class="ttc" id="structtinyformat_1_1detail_1_1convert_to_int_html"><div class="ttname"><a href="structtinyformat_1_1detail_1_1convert_to_int.html">tinyformat::detail::convertToInt</a></div><div class="ttdef"><b>Definition:</b> tinyformat.h:234</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
다음에 의해 생성됨 :  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
